package regsrv

import (
	"github.com/brocaar/lora-app-server/internal/config"
)

// Conf ...
type Conf struct {
	HostServer  string
	RegServer   string
	Username    string
	Password    string
	CACert		string
	TLSCert		string
	TLSKey		string
}

// IsSet ...
func (conf *Conf) IsSet() bool {
	return conf.RegServer != ""
}

var conf Conf

// GetConfig ...
func GetConfig() Conf {
	return conf
}

// Setup ...
func Setup(c config.Config) error {
	conf = Conf{
		HostServer: c.General.HostServer,
		RegServer: c.RegistrationServer.Server,
		Username: c.RegistrationServer.Username,
		Password: c.RegistrationServer.Password,
		CACert: c.RegistrationServer.CACert,
		TLSCert: c.RegistrationServer.TLSCert,
		TLSKey: c.RegistrationServer.TLSKey,
	}

	return nil
}
